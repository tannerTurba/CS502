<app-navbar />
<div class="mx-10 my-5 text-4xl flex justify-between">
    <h1 class="text-green-600 dark:text-green-500">Messages</h1>
</div>
<div class="flex border-2 border-stone-900 dark:border-stone-500 bg-stone-50 dark:bg-stone-950 justify-items-center mx-8 h-[675px]">
    <div class="flex flex-col border-r border-stone-900 dark:border-stone-500 h-[675px] w-[300px] p-0">
        @for (user of directory; track user) {
            @if (selectedContact === user._id) {
                <div (click)="selectedContact = user._id" class="flex flex-row border-b border-r border-stone-900 dark:border-stone-500 bg-stone-300 dark:bg-stone-700 dark:text-stone-100 h-[80px] w-[300px] items-center justify-center text-center text-xl">
                    {{user.firstName + ' ' + user.lastName}}
                </div>
            }
            @else {
                <div (click)="selectedContact = user._id" class="flex flex-row border-b border-r border-stone-900 dark:border-stone-500 hover:bg-stone-300 dark:hover:bg-stone-700 dark:text-stone-100 h-[80px] w-[300px] items-center justify-center text-center text-xl">
                    {{user.firstName + ' ' + user.lastName}}
                </div>
            }
        }
    </div>
    <div class="p-6 w-full overflow-auto">
        @for (message of messages; track message) {
            @if (message.from === uid) {
                <span class="flex justify-end">
                    <app-request-bubble [message]="message" />
                </span>
            }
            @else {
                <span class="flex">
                    <app-request-bubble [message]="message" />
                </span>
            }
        }
    </div>
</div>